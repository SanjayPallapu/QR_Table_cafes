<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel â€” QR Restaurant</title>
    <link rel="stylesheet" href="/css/staff.css">
</head>

<body>
    <div id="toast-container" class="toast-container"></div>

    <header class="dashboard-header">
        <div class="dashboard-brand">
            <span class="dashboard-brand-icon">âš™ï¸</span>
            <div>
                <h1>Admin Panel</h1>
                <div class="dashboard-brand-role" id="admin-name">Administrator</div>
            </div>
        </div>
        <div class="dashboard-actions">
            <button class="logout-btn" onclick="logout()">Logout</button>
        </div>
    </header>

    <nav class="admin-tabs" id="admin-tabs">
        <button class="admin-tab active" data-tab="dashboard" onclick="switchTab('dashboard')">ğŸ“Š Dashboard</button>
        <button class="admin-tab" data-tab="menu" onclick="switchTab('menu')">ğŸ“‹ Menu</button>
        <button class="admin-tab" data-tab="tables" onclick="switchTab('tables')">ğŸª‘ Tables</button>
        <button class="admin-tab" data-tab="orders" onclick="switchTab('orders')">ğŸ“¦ Orders</button>
        <button class="admin-tab" data-tab="feedback" onclick="switchTab('feedback')">â­ Reviews</button>
        <button class="admin-tab" data-tab="settings" onclick="switchTab('settings')">âš™ï¸ Settings</button>
    </nav>

    <!-- Dashboard Tab -->
    <div class="admin-content" id="tab-dashboard">
        <h2 style="font-size:1.1rem;font-weight:700;margin-bottom:16px">ğŸ“Š Today's Dashboard</h2>
        <div id="dashboard-stats" style="display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-bottom:20px">
        </div>
        <div id="dashboard-top-items">
            <h3 style="font-size:0.95rem;font-weight:700;margin-bottom:10px">ğŸ”¥ Top Selling Items</h3>
            <div id="top-items-list"></div>
        </div>
        <div id="dashboard-recent-feedback" style="margin-top:20px">
            <h3 style="font-size:0.95rem;font-weight:700;margin-bottom:10px">â­ Recent Reviews</h3>
            <div id="recent-feedback-list"></div>
        </div>
    </div>

    <!-- Menu Tab -->
    <div class="admin-content hidden" id="tab-menu">
        <div
            style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;flex-wrap:wrap;gap:10px">
            <h2 style="font-size:1.1rem;font-weight:700">Menu Management</h2>
            <div style="display:flex;gap:8px">
                <button class="btn btn-secondary btn-sm" onclick="showAddCategoryModal()">+ Category</button>
                <button class="btn btn-primary btn-sm" onclick="showAddItemModal()">+ Item</button>
            </div>
        </div>
        <div id="menu-content"></div>
    </div>

    <!-- Tables Tab -->
    <div class="admin-content hidden" id="tab-tables">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
            <h2 style="font-size:1.1rem;font-weight:700">Tables & QR Codes</h2>
            <button class="btn btn-primary btn-sm" onclick="showAddTableModal()">+ Add Table</button>
        </div>
        <div id="table-status-bar" style="display:flex;gap:10px;margin-bottom:16px;flex-wrap:wrap"></div>
        <div id="tables-content"></div>
    </div>

    <!-- Orders Tab -->
    <div class="admin-content hidden" id="tab-orders">
        <div
            style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;flex-wrap:wrap;gap:10px">
            <h2 style="font-size:1.1rem;font-weight:700">Orders</h2>
            <div style="display:flex;gap:8px;align-items:center">
                <input type="date" id="orders-date" class="form-input"
                    style="width:auto;padding:6px 10px;font-size:0.8rem" onchange="loadOrders()">
                <select id="orders-status" class="form-input" style="width:auto;padding:6px 10px;font-size:0.8rem"
                    onchange="loadOrders()">
                    <option value="">All Statuses</option>
                    <option value="PLACED">Placed</option>
                    <option value="PREPARING">Preparing</option>
                    <option value="READY">Ready</option>
                    <option value="SERVED">Served</option>
                </select>
            </div>
        </div>
        <div id="orders-content"></div>
    </div>

    <!-- Feedback Tab -->
    <div class="admin-content hidden" id="tab-feedback">
        <h2 style="font-size:1.1rem;font-weight:700;margin-bottom:16px">â­ Customer Feedback</h2>
        <div id="feedback-summary" style="display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-bottom:20px">
        </div>
        <div id="feedback-list"></div>
    </div>

    <!-- Settings Tab -->
    <div class="admin-content hidden" id="tab-settings">
        <h2 style="font-size:1.1rem;font-weight:700;margin-bottom:16px">Restaurant Settings</h2>
        <div id="settings-content"></div>
    </div>

    <!-- Modal Container -->
    <div id="modal-container"></div>

    <script src="/js/admin.js"></script>
</body>

</html>